/* ==================================================
  ** outline-item
  type: object


================================================== */
/* stylelint-disable */

$-collapse-breakpoint-key: md-min;

.sage-outline-item {
  background-color: sage-color(white);
  border: sage-border();
  border-radius: sage-border(radius);
  margin-bottom: sage-spacing(md);
  overflow: hidden;

  & & {
    border: unset;
    border-radius: unset;
    margin-bottom: 0;
  }
}

.sage-outline-item__container {
  align-items: center;
  display: grid;
  padding-right: sage-spacing(sm);
  padding-left: sage-spacing(md);
  // background: rgba(green, 0.07);

  @media (min-width: sage-breakpoint($-collapse-breakpoint-key)) {
    grid-template-columns: min-content 1fr min-content rem(160px) rem(92px) rem(40px);
    grid-template-rows: auto;
    grid-column-gap: sage-spacing(sm);
    grid-template-areas: "handle-drag title actions-secondary actions-primary status handle-collapse";

    .sage-outline-item--type-category > & {
      padding-top: sage-spacing(sm);
      padding-bottom: sage-spacing(sm);
      border-bottom: sage-border();
    }

    .sage-outline-item--type-post > & {
      padding-top: sage-spacing(xs);
      padding-bottom: sage-spacing(xs);
      border-bottom: sage-border(light);
    }

    .sage-outline-item--type-post:last-child > & {
      border-bottom: unset;
    }
  }

  @media (max-width: sage-breakpoint($-collapse-breakpoint-key)) {
    grid-template-columns: min-content 1fr min-content min-content;
    grid-template-rows: auto auto;
    grid-row-gap: sage-spacing(sm);
    grid-column-gap: sage-spacing(xs);
    grid-template-areas:
      "handle-drag title status handle-collapse"
      "actions-primary actions-primary actions-secondary handle-collapse";

    .sage-outline-item--type-category > & {
      padding-top: sage-spacing(lg);
      padding-bottom: sage-spacing(lg);
    }

    .sage-outline-item--type-post > & {
      padding-top: sage-spacing(sm);
      padding-bottom: sage-spacing(sm);
    }
  }

  // Development Mode Hightlighting
  // .sage-outline-item .sage-outline-item & {
  //   background: rgba(red, 0.07);
  // }

  // .sage-outline-item .sage-outline-item .sage-outline-item & {
  //   background: rgba(blue, 0.07);
  // }

  // .sage-outline-item .sage-outline-item .sage-outline-item & {
  //   background: rgba(blue, 0.07);
  // }

  // Nest Item Identention
  .sage-outline-item .sage-outline-item .sage-outline-item & {
    padding-left: sage-spacing(xl);
  }
}

.sage-outline-item__title {
  grid-area: title;
  color: sage-color(charcoal, 400);
  @include truncate;

  .sage-outline-item--type-category & {
    @extend %t-sage-body-semi;
  }

  .sage-outline-item--type-post & {
    @extend %t-sage-body-small-med;
  }
}

.sage-outline-item__actions-secondary {
  display: flex;
  grid-area: actions-secondary;
  flex-direction: row;

  @media (min-width: sage-breakpoint($-collapse-breakpoint-key)) {
    visibility: hidden;

    :hover > &,
    :focus > &,
    :focus-within > & {
      visibility: visible;
    }
  }
}

.sage-outline-item__actions-primary {
  grid-area: actions-primary;
}

.sage-outline-item__status {
  grid-area: status;
  display: flex;
  justify-content: flex-end;
}

.sage-outline-item__handle-drag {
  grid-area: handle-drag;
  cursor: grab;

  &:active {
    cursor: grabbing;
  }

  // Category Item
  .sage-outline-item--type-category &::before {
    @include sage-icon-base(folder);
    color: sage-color(primary);
  }

  // Nested Category Item
  .sage-outline-item__children .sage-outline-item--type-category &::before {
    @include sage-icon-base(arrow-corner);
    color: sage-color(primary);
  }

  // Post Standard
  .sage-outline-item__children .sage-outline-item--type-post &::before {
    @include sage-icon-base(file);
    color: sage-color(charcoal, 200);
  }

  // Post Video
  .sage-outline-item__children .sage-outline-item--post-icon-video &::before {
    @include sage-icon-base(video-on);
  }

  // Post Assessment
  .sage-outline-item__children .sage-outline-item--post-icon-assessment &::before {
    @include sage-icon-base(form);
  }

  // Universal Drag Handle Hover Icon For All Types
  .sage-outline-item__container:hover > &::before,
  .sage-outline-item__children .sage-outline-item__container:hover > &::before {
    @include sage-icon-base(handle);
    color: sage-color(charcoal, 200);
  }
}

.sage-outline-item__handle-collapse {
  grid-area: handle-collapse;
}

.sage-outline-item__children {
  grid-area: content;

  .sage-outline-item--collapsed > & {
    display: none;
  }
}
/* stylelint-enable */
